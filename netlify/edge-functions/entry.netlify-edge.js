import{_ as G,q as V}from"./assets/@qwik-city-plan-b3930cc8.js";import{getNotFound as Z}from"./@qwik-city-not-found-paths.js";import{isStaticPath as ee}from"./@qwik-city-static-paths.js";import te from"./entry.ssr.js";var N=class extends Error{constructor(e,t){super(t),this.status=e}};function ne(e,t){let n="Server Error";return t!=null&&(typeof t.message=="string"?n=t.message:n=String(t)),re(e,n)}function re(e,t){typeof e!="number"&&(e=500),typeof t=="string"?t=se(t):t="";const n=typeof t=="string"?"600px":"300px",r=e>=500?oe:ie;return`<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="Status" content="${e}">
  <title>${e} ${t}</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <style>
    body { color: ${r}; background-color: #fafafa; padding: 30px; font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, Roboto, sans-serif; }
    p { max-width: ${n}; margin: 60px auto 30px auto; background: white; border-radius: 4px; box-shadow: 0px 0px 50px -20px ${r}; overflow: hidden; }
    strong { display: inline-block; padding: 15px; background: ${r}; color: white; }
    span { display: inline-block; padding: 15px; }
  </style>
</head>
<body><p><strong>${e}</strong> <span>${t}</span></p></body>
</html>`}var ae=/[&<>]/g,se=e=>e.replace(ae,t=>{switch(t){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";default:return""}}),ie="#006ce9",oe="#713fc2",H={lax:"Lax",none:"None",strict:"Strict"},le={seconds:1,minutes:1*60,hours:1*60*60,days:1*60*60*24,weeks:1*60*60*24*7},ce=(e,t,n)=>{const r=[`${e}=${t}`];return typeof n.domain=="string"&&r.push(`Domain=${n.domain}`),typeof n.maxAge=="number"?r.push(`Max-Age=${n.maxAge}`):Array.isArray(n.maxAge)?r.push(`Max-Age=${n.maxAge[0]*le[n.maxAge[1]]}`):typeof n.expires=="number"||typeof n.expires=="string"?r.push(`Expires=${n.expires}`):n.expires instanceof Date&&r.push(`Expires=${n.expires.toUTCString()}`),n.httpOnly&&r.push("HttpOnly"),typeof n.path=="string"&&r.push(`Path=${n.path}`),n.sameSite&&H[n.sameSite]&&r.push(`SameSite=${H[n.sameSite]}`),n.secure&&r.push("Secure"),r.join("; ")},ue=e=>{const t={};if(typeof e=="string"&&e!==""){const n=e.split(";");for(const r of n){const a=r.split("=");a.length>1&&(t[decodeURIComponent(a[0].trim())]=decodeURIComponent(a[1].trim()))}}return t},v=Symbol("request-cookies"),D=Symbol("response-cookies"),U,fe=class{constructor(e){this[U]={},this[v]=ue(e)}get(e){const t=this[v][e];return t?{value:t,json(){return JSON.parse(t)},number(){return Number(t)}}:null}getAll(){return Object.keys(this[v]).reduce((e,t)=>(e[t]=this.get(t),e),{})}has(e){return!!this[v][e]}set(e,t,n={}){const r=typeof t=="string"?t:encodeURIComponent(JSON.stringify(t));this[D][e]=ce(e,r,n)}delete(e,t){this.set(e,"deleted",{...t,maxAge:0})}headers(){return Object.values(this[D])}};U=D;var de=(e,t)=>{const n=t.headers();if(n.length>0){const r=new Headers(e);for(const a of n)r.append("Set-Cookie",a);return r}return e},k=class{},P=class extends k{},L=new WeakMap,he="qaction";function pe(e){const{url:t,params:n,request:r,status:a,locale:s}=e,i={};r.headers.forEach((f,u)=>i[u]=f);const c=O(e),l=e.sharedMap.get("actionFormData");return{url:new URL(t.pathname+t.search,t).href,requestHeaders:i,locale:s(),qwikcity:{params:{...n},loadedRoute:_e(e),response:{status:a(),loaders:T(e),action:c,formData:l}}}}var me=(e,t,n,r)=>{const a=[],s=[],i=!!(t&&be(t[1]));return e&&$(a,s,e,i,n),t&&(i&&(s.push(we),s.push(xe)),$(a,s,t[1],i,n),i&&(a.length+C.length>0&&s.push(C(a)),s.push(r))),s.length>0&&s.unshift(Se),s},$=(e,t,n,r,a)=>{for(const s of n){typeof s.onRequest=="function"?t.push(s.onRequest):Array.isArray(s.onRequest)&&t.push(...s.onRequest);let i;switch(a){case"GET":{i=s.onGet;break}case"POST":{i=s.onPost;break}case"PUT":{i=s.onPut;break}case"PATCH":{i=s.onPatch;break}case"DELETE":{i=s.onDelete;break}case"OPTIONS":{i=s.onOptions;break}case"HEAD":{i=s.onHead;break}}if(typeof i=="function"?t.push(i):Array.isArray(i)&&t.push(...i),r){const c=Object.values(s).filter(l=>ge(l,"server_loader"));e.push(...c)}}},ge=(e,t)=>e&&typeof e=="function"&&e.__brand===t;function C(e){return async t=>{if(t.headersSent){t.exit();return}const{method:n}=t,r=T(t);if(n==="POST"){const a=t.query.get(he),s=globalThis._qwikActionsMap;if(a&&s){const i=s.get(a);if(i){We(t,a);const c=Y(t.request.headers),l=t.request.clone();let f;if(c){const p=await l.formData();t.sharedMap.set("actionFormData",p),f=ye(p)}else f=await l.json();let u=!1;if(i.__schema){const d=await(await i.__schema).safeParseAsync(f);d.success?f=d.data:(u=!0,globalThis.qDev&&console.error(`
VALIDATION ERROR
action$() zod validated failed`,`

  - Received:`,f,`
  - Issues:`,d.error.issues),r[a]={__brand:"fail",...d.error.flatten()})}if(!u){const p=await i.__qrl(f,t);r[a]=p}}}}e.length>0&&await Promise.all(e.map(a=>{const s=a.__qrl.getHash();return r[s]=Promise.resolve().then(()=>a.__qrl(t)).then(i=>(r[s]=typeof i=="function"?i():i,i))}))}}var ye=e=>{const t={};return e.forEach((n,r)=>{const a=r.split(".").filter(i=>i);let s=t;for(let i=0;i<a.length;i++){let c=a[i];i===a.length-1?c.endsWith("[]")?(c=c.slice(0,-2),s[c]=s[c]||[],s[c].push(n)):s[c]=n:s=s[c]={}}}),t};function we(e){const t=Pe(e),n=Te(e),{pathname:r,url:a}=e;if(!X(r)&&r!==n&&!r.endsWith(".html")){if(t){if(!r.endsWith("/"))throw e.redirect(302,r+"/"+a.search)}else if(r.endsWith("/"))throw e.redirect(302,r.slice(0,r.length-1)+a.search)}}function be(e){const t=e[e.length-1];return t&&typeof t.default=="function"}function j(e,t){return e.pathname.endsWith(b)?e.pathname.slice(0,-b.length+(t?1:0))+e.search:e.pathname}var E=new TextEncoder;function Se({method:e,url:t,request:n,error:r}){if(e==="POST"&&n.headers.get("origin")!==t.origin&&Y(n.headers))throw r(403,`Cross-site ${n.method} form submissions are forbidden`)}function Re(e,t){return async n=>{if(n.headersSent||n.pathname.endsWith(b))return;n.request.headers.forEach((p,d)=>p);const a=n.headers;a.has("Content-Type")||a.set("Content-Type","text/html; charset=utf-8");const{readable:s,writable:i}=new TextEncoderStream,c=n.getWritableStream(),l=s.pipeTo(c),f=i.getWriter(),u=n.status();try{const p=De(n)==="static",d=await e({stream:f,serverData:pe(n),containerAttributes:{["q:render"]:p?"static":""}}),g={loaders:T(n),action:O(n),status:u!==200?u:200,href:j(n.url,!0)};(typeof d).html==="string"&&await f.write(d.html),n.sharedMap.set("qData",g)}finally{await f.ready,await f.close(),await l}}}async function xe(e){if(X(e.pathname)){try{await e.next()}catch(l){if(!(l instanceof P))throw l}if(e.headersSent||e.exited)return;const n=e.status(),r=e.headers.get("Location");if(n>=301&&n<=308&&r){const l=Ae(r);if(l){e.headers.set("Location",l),e.getWritableStream().close();return}else e.status(200),e.headers.delete("Location")}e.request.headers.forEach((l,f)=>l),e.headers.set("Content-Type","application/json; charset=utf-8");const s={loaders:T(e),action:O(e),status:n!==200?n:200,href:j(e.url,!0),redirect:r??void 0},i=e.getWritableStream().getWriter(),c=await G(s);i.write(E.encode(c)),e.sharedMap.set("qData",s),i.close()}}function Ae(e){if(e.startsWith("/")){const t=b,n=new URL(e,"http://localhost");return(n.pathname.endsWith("/")?n.pathname.slice(0,-1):n.pathname)+(t.startsWith("/")?"":"/")+t+n.search}else return}function ve(e){const t=[];return e==="day"?e=60*60*24:e==="week"?e=60*60*24*7:e==="month"?e=60*60*24*30:e==="year"?e=60*60*24*365:e==="private"?e={private:!0,noCache:!0}:e==="immutable"?e={public:!0,immutable:!0,maxAge:60*60*24*365,staleWhileRevalidate:60*60*24*365}:e==="no-cache"&&(e={noCache:!0}),typeof e=="number"&&(e={maxAge:e,sMaxAge:e,staleWhileRevalidate:e}),e.immutable&&t.push("immutable"),e.maxAge&&t.push(`max-age=${e.maxAge}`),e.sMaxAge&&t.push(`s-maxage=${e.sMaxAge}`),e.noStore&&t.push("no-store"),e.noCache&&t.push("no-cache"),e.private&&t.push("private"),e.public&&t.push("public"),e.staleWhileRevalidate&&t.push(`stale-while-revalidate=${e.staleWhileRevalidate}`),t.join(", ")}var Q=Symbol("RequestEvLoaders"),W=Symbol("RequestEvLocale"),F=Symbol("RequestEvMode"),y=Symbol("RequestEvStatus"),B=Symbol("RequestEvRoute"),M=Symbol("RequestEvAction"),J=Symbol("RequestEvTrailingSlash"),K=Symbol("RequestEvBasePathname");function ke(e,t,n,r=!0,a="/",s){const{request:i,platform:c,env:l}=e,f=new fe(i.headers.get("cookie")),u=new Headers,p=new URL(i.url);let d=-1,g=null;const R=async()=>{for(d++;d<n.length;){const o=n[d],h=o(m);h instanceof Promise&&await h,d++}},w=()=>{if(g!==null)throw new Error("Response already sent")},x=(o,h)=>{if(w(),typeof o=="number"){m[y]=o;const S=m.getWritableStream().getWriter();S.write(typeof h=="string"?E.encode(h):h),S.close()}else{const A=o.status;if(m[y]=A,o.headers.forEach((S,z)=>{u.append(z,S)}),o.body){const S=m.getWritableStream();o.body.pipeTo(S)}else{if(A>=300&&A<400)return new P;m.getWritableStream().getWriter().close()}}return new k},_={},m={[Q]:_,[W]:e.locale,[F]:e.mode,[y]:200,[M]:void 0,[J]:r,[K]:a,[B]:t,cookie:f,headers:u,env:l,method:i.method,params:(t==null?void 0:t[0])??{},pathname:p.pathname,platform:c,query:p.searchParams,request:i,url:p,sharedMap:new Map,get headersSent(){return g!==null},get exited(){return d>=q},next:R,exit:()=>(d=q,new k),cacheControl:o=>{w(),u.set("Cache-Control",ve(o))},resolveValue:async o=>{const h=o.__qrl.getHash();if(o.__brand==="server_loader"&&!(h in _))throw new Error("You can not get the returned data of a loader that has not been executed for this request.");return _[h]},status:o=>typeof o=="number"?(w(),m[y]=o,o):m[y],locale:o=>(typeof o=="string"&&(m[W]=o),m[W]||""),error:(o,h)=>(m[y]=o,u.delete("Cache-Control"),new N(o,h)),redirect:(o,h)=>(w(),m[y]=o,u.set("Location",h),u.delete("Cache-Control"),o>301&&u.set("Cache-Control","no-store"),new P),defer:o=>typeof o=="function"?o:()=>o,fail:(o,h)=>(w(),m[y]=o,u.delete("Cache-Control"),{failed:!0,...h}),text:(o,h)=>(u.set("Content-Type","text/plain; charset=utf-8"),x(o,h)),html:(o,h)=>(u.set("Content-Type","text/html; charset=utf-8"),x(o,h)),json:(o,h)=>(u.set("Content-Type","application/json; charset=utf-8"),x(o,JSON.stringify(h))),send:x,isDirty:()=>g!==null,getWritableStream:()=>(g===null&&(g=e.getWritableStream(m[y],u,f,s,m)),g)};return m}function T(e){return e[Q]}function Pe(e){return e[J]}function Te(e){return e[K]}function _e(e){return e[B]}function O(e){return e[M]}function We(e,t){e[M]=t}function De(e){return e[F]}var q=999999999;function Me(e,t,n,r=!0,a="/"){let s;const i=new Promise(l=>s=l),c=ke(e,t,n,r,a,s);return{response:i,requestEv:c,completion:Oe(c,s)}}async function Oe(e,t){try{await e.next()}catch(n){if(n instanceof P)await e.getWritableStream().close();else if(n instanceof N){if(console.error(n),!e.headersSent){const r=ne(n.status,n);e.html(n.status,r)}}else if(!(n instanceof k))return n}finally{e.isDirty()||t(null)}}function He(e,t){if(e.endsWith(b)){const n=e.length-Le+(t?1:0);e=e.slice(0,n),e===""&&(e="/")}return e}var X=e=>e.endsWith(b),b="/q-data.json",Le=b.length;function Y(e){return $e(e,"application/x-www-form-urlencoded","multipart/form-data")}function $e(e,...t){var n;const r=((n=e.get("content-type"))==null?void 0:n.split(";",1)[0].trim())??"";return t.includes(r)}var Ce=async(e,t,n,r)=>{if(Array.isArray(e))for(const a of e){const s=a[0].exec(r);if(s){const i=a[1],c=Ie(a[2],s),l=a[4],f=new Array(i.length),u=[],p=qe(t,r);let d;return i.forEach((g,R)=>{I(g,u,w=>f[R]=w,n)}),I(p,u,g=>d=g==null?void 0:g.default,n),u.length>0&&await Promise.all(u),[c,f,d,l]}}return null},I=(e,t,n,r)=>{if(typeof e=="function"){const a=L.get(e);if(a)n(a);else{const s=e();typeof s.then=="function"?t.push(s.then(i=>{r!==!1&&L.set(e,i),n(i)})):s&&n(s)}}},qe=(e,t)=>{if(e){t=t.endsWith("/")?t:t+"/";const n=e.find(r=>r[0]===t||t.startsWith(r[0]+(t.endsWith("/")?"":"/")));if(n)return n[1]}},Ie=(e,t)=>{const n={};if(e)for(let r=0;r<e.length;r++){const a=(t==null?void 0:t[r+1])??"",s=a.endsWith("/")?a.slice(0,-1):a;n[e[r]]=decodeURIComponent(s)}return n};async function Ne(e,t){const{render:n,qwikCityPlan:r}=t,{routes:a,serverPlugins:s,menus:i,cacheModules:c,trailingSlash:l,basePathname:f}=r,u=e.url.pathname,p=He(u,l),d=await Ue(s,a,i,c,p,e.request.method,n);return d?Me(e,d[0],d[1],l,f):null}async function Ue(e,t,n,r,a,s,i){const c=await Ce(t,n,r,a),l=me(e,c,s,Re(i));return l.length>0?[c,l]:null}function je(e){async function t(n,r){try{const a=new URL(n.url);if(ee(n.method,a)||a.pathname.startsWith("/.netlify"))return r.next();const s={mode:"server",locale:void 0,url:a,env:Deno.env,request:n,getWritableStream:(l,f,u,p)=>{const{readable:d,writable:g}=new TransformStream,R=new Response(d,{status:l,headers:de(f,u)});return p(R),g},platform:r},i=await Ne(s,e);if(i){i.completion.then(f=>{f&&console.error(f)});const l=await i.response;if(l)return l}const c=Z(a.pathname);return new Response(c,{status:404,headers:{"Content-Type":"text/html; charset=utf-8","X-Not-Found":a.pathname}})}catch(a){return console.error(a),new Response(String(a||"Error"),{status:500,headers:{"Content-Type":"text/plain; charset=utf-8","X-Error":"netlify-edge"}})}}return t}const Je=je({render:te,qwikCityPlan:V});export{Je as default};
